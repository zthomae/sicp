<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4.42&nbsp;Exercise 4.42</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">zthomae&rsquo;s SICP solutions</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Chapter_1.html" class="tocviewlink" data-pltdoc="x">Chapter 1</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Chapter_2.html" class="tocviewlink" data-pltdoc="x">Chapter 2</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Chapter_3.html" class="tocviewlink" data-pltdoc="x">Chapter 3</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Chapter_4.html" class="tocviewselflink" data-pltdoc="x">Chapter 4</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>4&nbsp;</td><td><a href="Chapter_4.html" class="tocviewlink" data-pltdoc="x">Chapter 4</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="c4e1.html" class="tocviewlink" data-pltdoc="x">Exercise 4.1</a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="c4e2.html" class="tocviewlink" data-pltdoc="x">Exercise 4.2</a></td></tr><tr><td align="right">4.3&nbsp;</td><td><a href="c4e3.html" class="tocviewlink" data-pltdoc="x">Exercise 4.3</a></td></tr><tr><td align="right">4.4&nbsp;</td><td><a href="c4e4.html" class="tocviewlink" data-pltdoc="x">Exercise 4.4</a></td></tr><tr><td align="right">4.5&nbsp;</td><td><a href="c4e5.html" class="tocviewlink" data-pltdoc="x">Exercise 4.5</a></td></tr><tr><td align="right">4.6&nbsp;</td><td><a href="c4e6.html" class="tocviewlink" data-pltdoc="x">Exercise 4.6</a></td></tr><tr><td align="right">4.7&nbsp;</td><td><a href="c4e7.html" class="tocviewlink" data-pltdoc="x">Exercise 4.7</a></td></tr><tr><td align="right">4.8&nbsp;</td><td><a href="c4e8.html" class="tocviewlink" data-pltdoc="x">Exercise 4.8</a></td></tr><tr><td align="right">4.9&nbsp;</td><td><a href="c4e9.html" class="tocviewlink" data-pltdoc="x">Exercise 4.9</a></td></tr><tr><td align="right">4.10&nbsp;</td><td><a href="c4e10.html" class="tocviewlink" data-pltdoc="x">Exercise 4.10</a></td></tr><tr><td align="right">4.11&nbsp;</td><td><a href="c4e11.html" class="tocviewlink" data-pltdoc="x">Exercise 4.11</a></td></tr><tr><td align="right">4.12&nbsp;</td><td><a href="c4e12.html" class="tocviewlink" data-pltdoc="x">Exercise 4.12</a></td></tr><tr><td align="right">4.13&nbsp;</td><td><a href="c4e13.html" class="tocviewlink" data-pltdoc="x">Exercise 4.13</a></td></tr><tr><td align="right">4.14&nbsp;</td><td><a href="c4e14.html" class="tocviewlink" data-pltdoc="x">Exercise 4.14</a></td></tr><tr><td align="right">4.15&nbsp;</td><td><a href="c4e15.html" class="tocviewlink" data-pltdoc="x">Exercise 4.15</a></td></tr><tr><td align="right">4.16&nbsp;</td><td><a href="c4e16.html" class="tocviewlink" data-pltdoc="x">Exercise 4.16</a></td></tr><tr><td align="right">4.17&nbsp;</td><td><a href="c4e17.html" class="tocviewlink" data-pltdoc="x">Exercise 4.17</a></td></tr><tr><td align="right">4.18&nbsp;</td><td><a href="c4e18.html" class="tocviewlink" data-pltdoc="x">Exercise 4.18</a></td></tr><tr><td align="right">4.19&nbsp;</td><td><a href="c4e19.html" class="tocviewlink" data-pltdoc="x">Exercise 4.19</a></td></tr><tr><td align="right">4.20&nbsp;</td><td><a href="c4e20.html" class="tocviewlink" data-pltdoc="x">Exercise 4.20</a></td></tr><tr><td align="right">4.21&nbsp;</td><td><a href="c4e21.html" class="tocviewlink" data-pltdoc="x">Exercise 4.21</a></td></tr><tr><td align="right">4.22&nbsp;</td><td><a href="c4e22.html" class="tocviewlink" data-pltdoc="x">Exercise 4.22</a></td></tr><tr><td align="right">4.23&nbsp;</td><td><a href="c4e23.html" class="tocviewlink" data-pltdoc="x">Exercise 4.23</a></td></tr><tr><td align="right">4.24&nbsp;</td><td><a href="c4e24.html" class="tocviewlink" data-pltdoc="x">Exercise 4.24</a></td></tr><tr><td align="right">4.25&nbsp;</td><td><a href="c4e25.html" class="tocviewlink" data-pltdoc="x">Exercise 4.25</a></td></tr><tr><td align="right">4.26&nbsp;</td><td><a href="c4e26.html" class="tocviewlink" data-pltdoc="x">Exercise 4.26</a></td></tr><tr><td align="right">4.27&nbsp;</td><td><a href="c4e27.html" class="tocviewlink" data-pltdoc="x">Exercise 4.27</a></td></tr><tr><td align="right">4.28&nbsp;</td><td><a href="c4e28.html" class="tocviewlink" data-pltdoc="x">Exercise 4.28</a></td></tr><tr><td align="right">4.29&nbsp;</td><td><a href="c4e29.html" class="tocviewlink" data-pltdoc="x">Exercise 4.29</a></td></tr><tr><td align="right">4.30&nbsp;</td><td><a href="c4e30.html" class="tocviewlink" data-pltdoc="x">Exercise 4.30</a></td></tr><tr><td align="right">4.31&nbsp;</td><td><a href="c4e31.html" class="tocviewlink" data-pltdoc="x">Exercise 4.31</a></td></tr><tr><td align="right">4.32&nbsp;</td><td><a href="c4e32.html" class="tocviewlink" data-pltdoc="x">Exercise 4.32</a></td></tr><tr><td align="right">4.33&nbsp;</td><td><a href="c4e33.html" class="tocviewlink" data-pltdoc="x">Exercise 4.33</a></td></tr><tr><td align="right">4.34&nbsp;</td><td><a href="c4e34.html" class="tocviewlink" data-pltdoc="x">Exercise 4.34</a></td></tr><tr><td align="right">4.35&nbsp;</td><td><a href="c4e35.html" class="tocviewlink" data-pltdoc="x">Exercise 4.35</a></td></tr><tr><td align="right">4.36&nbsp;</td><td><a href="c4e36.html" class="tocviewlink" data-pltdoc="x">Exercise 4.36</a></td></tr><tr><td align="right">4.37&nbsp;</td><td><a href="c4e37.html" class="tocviewlink" data-pltdoc="x">Exercise 4.37</a></td></tr><tr><td align="right">4.38&nbsp;</td><td><a href="c4e38.html" class="tocviewlink" data-pltdoc="x">Exercise 4.38</a></td></tr><tr><td align="right">4.39&nbsp;</td><td><a href="c4e39.html" class="tocviewlink" data-pltdoc="x">Exercise 4.39</a></td></tr><tr><td align="right">4.40&nbsp;</td><td><a href="c4e40.html" class="tocviewlink" data-pltdoc="x">Exercise 4.40</a></td></tr><tr><td align="right">4.41&nbsp;</td><td><a href="c4e41.html" class="tocviewlink" data-pltdoc="x">Exercise 4.41</a></td></tr><tr><td align="right">4.42&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Exercise 4.42</a></td></tr><tr><td align="right">4.43&nbsp;</td><td><a href="c4e43.html" class="tocviewlink" data-pltdoc="x">Exercise 4.43</a></td></tr><tr><td align="right">4.44&nbsp;</td><td><a href="c4e44.html" class="tocviewlink" data-pltdoc="x">Exercise 4.44</a></td></tr><tr><td align="right">4.45&nbsp;</td><td><a href="c4e45.html" class="tocviewlink" data-pltdoc="x">Exercise 4.45</a></td></tr><tr><td align="right">4.46&nbsp;</td><td><a href="c4e46.html" class="tocviewlink" data-pltdoc="x">Exercise 4.46</a></td></tr><tr><td align="right">4.47&nbsp;</td><td><a href="c4e47.html" class="tocviewlink" data-pltdoc="x">Exercise 4.47</a></td></tr><tr><td align="right">4.48&nbsp;</td><td><a href="c4e48.html" class="tocviewlink" data-pltdoc="x">Exercise 4.48</a></td></tr><tr><td align="right">4.49&nbsp;</td><td><a href="c4e49.html" class="tocviewlink" data-pltdoc="x">Exercise 4.49</a></td></tr><tr><td align="right">4.50&nbsp;</td><td><a href="c4e50.html" class="tocviewlink" data-pltdoc="x">Exercise 4.50</a></td></tr><tr><td align="right">4.51&nbsp;</td><td><a href="c4e51.html" class="tocviewlink" data-pltdoc="x">Exercise 4.51</a></td></tr><tr><td align="right">4.52&nbsp;</td><td><a href="c4e52.html" class="tocviewlink" data-pltdoc="x">Exercise 4.52</a></td></tr><tr><td align="right">4.53&nbsp;</td><td><a href="c4e53.html" class="tocviewlink" data-pltdoc="x">Exercise 4.53</a></td></tr><tr><td align="right">4.54&nbsp;</td><td><a href="c4e54.html" class="tocviewlink" data-pltdoc="x">Exercise 4.54</a></td></tr><tr><td align="right">4.55&nbsp;</td><td><a href="c4e55.html" class="tocviewlink" data-pltdoc="x">Exercise 4.55</a></td></tr><tr><td align="right">4.56&nbsp;</td><td><a href="c4e56.html" class="tocviewlink" data-pltdoc="x">Exercise 4.56</a></td></tr><tr><td align="right">4.57&nbsp;</td><td><a href="c4e57.html" class="tocviewlink" data-pltdoc="x">Exercise 4.57</a></td></tr><tr><td align="right">4.58&nbsp;</td><td><a href="c4e58.html" class="tocviewlink" data-pltdoc="x">Exercise 4.58</a></td></tr><tr><td align="right">4.59&nbsp;</td><td><a href="c4e59.html" class="tocviewlink" data-pltdoc="x">Exercise 4.59</a></td></tr><tr><td align="right">4.60&nbsp;</td><td><a href="c4e60.html" class="tocviewlink" data-pltdoc="x">Exercise 4.60</a></td></tr><tr><td align="right">4.61&nbsp;</td><td><a href="c4e61.html" class="tocviewlink" data-pltdoc="x">Exercise 4.61</a></td></tr><tr><td align="right">4.62&nbsp;</td><td><a href="c4e62.html" class="tocviewlink" data-pltdoc="x">Exercise 4.62</a></td></tr><tr><td align="right">4.63&nbsp;</td><td><a href="c4e63.html" class="tocviewlink" data-pltdoc="x">Exercise 4.63</a></td></tr><tr><td align="right">4.64&nbsp;</td><td><a href="c4e64.html" class="tocviewlink" data-pltdoc="x">Exercise 4.64</a></td></tr><tr><td align="right">4.65&nbsp;</td><td><a href="c4e65.html" class="tocviewlink" data-pltdoc="x">Exercise 4.65</a></td></tr><tr><td align="right">4.66&nbsp;</td><td><a href="c4e66.html" class="tocviewlink" data-pltdoc="x">Exercise 4.66</a></td></tr><tr><td align="right">4.67&nbsp;</td><td><a href="c4e67.html" class="tocviewlink" data-pltdoc="x">Exercise 4.67</a></td></tr><tr><td align="right">4.68&nbsp;</td><td><a href="c4e68.html" class="tocviewlink" data-pltdoc="x">Exercise 4.68</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="c4e41.html" title="backward to &quot;4.41 Exercise 4.41&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Chapter_4.html" title="up to &quot;4 Chapter 4&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="c4e43.html" title="forward to &quot;4.43 Exercise 4.43&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>4.42<tt>&nbsp;</tt><a name="(part._c4e42)"></a>Exercise 4.42</h4><p>We&rsquo;re going to solve the puzzle logically and with an
<span class="stt">amb</span> program.</p><p>First, a restatement of the five statements, rephrased in a
more normalized fashion:</p><ul><li><p>Kitty was in second. Betty was in third.</p></li><li><p>Ethel was in first. Joan was in second.</p></li><li><p>Joan was in third. Ethel was in fifth.</p></li><li><p>Kitty was in second. Mary was in fourth.</p></li><li><p>Mary was in fourth. Betty was in first.</p></li></ul><p>Because of the final two statements, either Mary was in
fourth place <span style="font-weight: bold">and</span> Kitty was not in second place <span style="font-weight: bold">and</span> Betty was not in first place, <span style="font-weight: bold">or</span> Mary was not in
fourth place <span style="font-weight: bold">and</span> Kitty was in second place <span style="font-weight: bold">and</span>
Betty was in first place. However, based on the second
statement, we know that either Ethel was in first place or
Joan was in second. This means that it cannot be the case
that Kitty was in second place nor that Betty was in first,
so we can conclude that Mary was in fourth place.</p><p>Because we know that Kitty was not in second place, we can
conclude from the first statement that Betty was in third
place.</p><p>Because we know that Betty was in third place, we can
conclude from the third statement that Ethel was in fifth.</p><p>Because we know that Ethel was in fifth place, we can
conclude from the second statement that Joan was in second.</p><p>At this point, we have only one person and one place left.
Kitty must have come in first place. The final ordering is
thus</p><ol><li><p>Kitty</p></li><li><p>Joan</p></li><li><p>Betty</p></li><li><p>Mary</p></li><li><p>Ethel</p></li></ol><p>With that in mind, let&rsquo;s write an <span class="stt">amb</span> program to compute
this.</p><p>The first construct we&rsquo;ll need is a way of encoding the fact
that exactly one of the claims in each statement are true &ndash;
the <span class="stt">xor</span> operation, in other words. Defining this in terms
of <span class="stt">and</span> and <span class="stt">xor</span> is typical, but we have neither of
these in our interpreter, so we&rsquo;ll define it slightly differently:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xor</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cond</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">not</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">else</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Then, using the same <span class="stt">require</span> and <span class="stt">distinct?</span> functions
defined earlier, we can write our <span class="stt">amb</span> program. Here is one
expression:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">liars</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">let</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">betty</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">amb</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ethel</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">amb</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">joan</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">amb</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">kitty</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">amb</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mary</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">amb</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xor</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">kitty</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">betty</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xor</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">ethel</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">joan</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xor</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">joan</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">ethel</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xor</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">kitty</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">mary</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">xor</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">mary</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=</span><span class="hspace">&nbsp;</span><span class="RktSym">betty</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">distinct?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktSym">betty</span><span class="hspace">&nbsp;</span><span class="RktSym">ethel</span><span class="hspace">&nbsp;</span><span class="RktSym">joan</span><span class="hspace">&nbsp;</span><span class="RktSym">kitty</span><span class="hspace">&nbsp;</span><span class="RktSym">mary</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">betty</span><span class="hspace">&nbsp;</span><span class="RktSym">betty</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ethel</span><span class="hspace">&nbsp;</span><span class="RktSym">ethel</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">joan</span><span class="hspace">&nbsp;</span><span class="RktSym">joan</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">kitty</span><span class="hspace">&nbsp;</span><span class="RktSym">kitty</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">mary</span><span class="hspace">&nbsp;</span><span class="RktSym">mary</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Running our program, we see that the one (and only) solution
to the puzzle is the same as the one we found:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">;;; Amb-Eval input:</span></p></td></tr><tr><td><p><span class="stt">(liars)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">;;; Starting a new problem</span></p></td></tr><tr><td><p><span class="stt">;;; Amb-Eval value:</span></p></td></tr><tr><td><p><span class="stt">((betty 3) (ethel 5) (joan 2) (kitty 1) (mary 4))</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">;;; Amb-Eval input:</span></p></td></tr><tr><td><p><span class="stt">try-again</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">;;; There are no more values of</span></p></td></tr><tr><td><p><span class="stt">(liars)</span></p></td></tr></table></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="c4e41.html" title="backward to &quot;4.41 Exercise 4.41&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Chapter_4.html" title="up to &quot;4 Chapter 4&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="c4e43.html" title="forward to &quot;4.43 Exercise 4.43&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>